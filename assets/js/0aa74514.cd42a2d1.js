"use strict";(self.webpackChunkfdm_monster_docs=self.webpackChunkfdm_monster_docs||[]).push([[120],{4142:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>d});var t=s(4848),i=s(8453);const r={title:"MonsterPi for Raspberry Pi",description:"How to setup MonsterPi for your FDM-Monster environment",image:"../images/raspberrypi/raspberrypi-imager.png",keywords:["fdm-monster","OctoPrint","3d-printing","monsterpi"],sidebar_position:1,id:"monsterpi",permalink:":baseUrl/:docsUrl/:langPart/:versionPart/installing/:id"},o=void 0,a={id:"installing/monsterpi",title:"MonsterPi for Raspberry Pi",description:"How to setup MonsterPi for your FDM-Monster environment",source:"@site/docs/0_installing/monsterpi.md",sourceDirName:"0_installing",slug:"/installing/monsterpi",permalink:"/docs/installing/monsterpi",draft:!1,unlisted:!1,editUrl:"https://github.com/fdm-monster/fdm-monster-docs/docs/0_installing/monsterpi.md",tags:[],version:"current",lastUpdatedBy:"David Zwart",lastUpdatedAt:1714147601e3,sidebarPosition:1,frontMatter:{title:"MonsterPi for Raspberry Pi",description:"How to setup MonsterPi for your FDM-Monster environment",image:"../images/raspberrypi/raspberrypi-imager.png",keywords:["fdm-monster","OctoPrint","3d-printing","monsterpi"],sidebar_position:1,id:"monsterpi",permalink:":baseUrl/:docsUrl/:langPart/:versionPart/installing/:id"},sidebar:"tutorialSidebar",previous:{title:"Installing",permalink:"/docs/installing/"},next:{title:"Docker and Docker Compose",permalink:"/docs/installing/docker_compose"}},l={},d=[{value:"Latest Version",id:"latest-version",level:2},{value:"Installing MonsterPi",id:"installing-monsterpi",level:3},{value:"Upgrading FDM Monster in MonsterPi",id:"upgrading-fdm-monster-in-monsterpi",level:2},{value:"MonsterPi Version 0.4+",id:"monsterpi-version-04",level:3},{value:"MonsterPi Version 0.2/0.3 to 0.4+",id:"monsterpi-version-0203-to-04",level:3},{value:"MonsterPi Version 0.2.0 -&gt; 0.3.0+",id:"monsterpi-version-020---030",level:3},{value:"Updating MonsterPi manually 0.1.x -&gt; 0.2.0",id:"updating-monsterpi-manually-01x---020",level:3}];function c(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://github.com/fdm-monster/MonsterPi",children:"MonsterPi"})," is a ",(0,t.jsx)(n.a,{href:"https://www.raspberrypi.org/",children:"Raspberry Pi"})," image built\nusing ",(0,t.jsx)(n.a,{href:"https://github.com/guysoft/CustomPiOS",children:"CustomPiOS"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["This Raspberry Pi image includes ",(0,t.jsx)(n.a,{href:"https://fdm-monster.net/",children:"FDM Monster"})," and ",(0,t.jsx)(n.a,{href:"https://www.mongodb.com/",children:"MongoDB"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["All released image versions can be downloaded from the ",(0,t.jsx)(n.a,{href:"https://github.com/fdm-monster/MonsterPi/releases",children:"Releases"}),"\npage."]}),"\n",(0,t.jsx)(n.h2,{id:"latest-version",children:"Latest Version"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://github.com/fdm-monster/monsterpi/releases/latest",children:(0,t.jsx)(n.img,{src:"https://img.shields.io/github/v/release/fdm-monster/monsterpi.svg?color=d52828&label=stable",alt:"Latest Version"})})}),"\n",(0,t.jsx)(n.p,{children:"The downloaded file needs to be unzipped before flashing it to your SD Card. Use your favorite unzipping application to\nextract the files."}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["Older MonsterPi releases can be downloaded from ",(0,t.jsx)(n.a,{href:"https://github.com/fdm-monster/MonsterPi/releases",children:"GitHub Releases"}),"."]})}),"\n",(0,t.jsx)(n.h3,{id:"installing-monsterpi",children:"Installing MonsterPi"}),"\n",(0,t.jsx)(n.p,{children:"Steps:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Download ",(0,t.jsx)(n.a,{href:"https://www.raspberrypi.com/software/",children:"Raspberry Pi Imager"})]}),"\n",(0,t.jsxs)(n.li,{children:["Insert a 16GB+ SD Card of high quality (class 10) and decent brand, ",(0,t.jsx)(n.strong,{children:"do not save money on this"}),"!"]}),"\n",(0,t.jsxs)(n.li,{children:["Flash the image on the SD card. Do not forget to set the configuration (WiFi, SSH, hostname) according to your\nspecifications: ",(0,t.jsx)(n.img,{alt:"Screenshot of Raspberry Pi Imager advanced options",src:s(9312).A+"",width:"675",height:"444"})]}),"\n",(0,t.jsx)(n.li,{children:"Insert the SD card into your Raspberry Pi 3 or 4 and power it up (with a recommended 5.1V power supply)"}),"\n",(0,t.jsxs)(n.li,{children:["Visit ",(0,t.jsx)(n.a,{href:"http://monsterpi.local:4000",children:"http://monsterpi.local:4000"})," to access FDM Monster"]}),"\n",(0,t.jsxs)(n.li,{children:["Alternatively, you can visit ",(0,t.jsx)(n.a,{href:"http://monsterpi.local",children:"http://monsterpi.local"}),"\nor ",(0,t.jsx)(n.a,{href:"https://monsterpi.local",children:"https://monsterpi.local (Self-Signed SSL Certificate)"})," to access FDM Monster"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"upgrading-fdm-monster-in-monsterpi",children:"Upgrading FDM Monster in MonsterPi"}),"\n",(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsx)(n.p,{children:"Upgrading MonsterPi requires you to have SSH knowledge. If you do not feel comfortable making those changes, please do\nnot continue and ask an expert to assist you!"})}),"\n",(0,t.jsx)(n.h3,{id:"monsterpi-version-04",children:"MonsterPi Version 0.4+"}),"\n",(0,t.jsxs)(n.p,{children:["Run the following commands as the ",(0,t.jsx)(n.code,{children:"pi"})," user and execute an update with root elevation.\nReplace ",(0,t.jsx)(n.code,{children:"VERSION_HERE"})," with the version of FDM Monster you like."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'cd ~/scripts\n\n# Deploy the FDM Monster server update\nsudo bash ./update-fdm-monster.sh --tag "VERSION_HERE" --non-interactive\n'})}),"\n",(0,t.jsx)(n.p,{children:"For example, if your FDM Monster is 1.6.2 and let's imagine 1.7.0 was available.\nYou would do the upgrade like this:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'cd ~/scripts\nsudo bash ./update-fdm-monster.sh --tag "1.7.0" --non-interactive\n'})}),"\n",(0,t.jsx)(n.p,{children:"If you would like to upgrade to the latest, you can run it like this, but beware that this mode is still\nexperimental. It might not install the true latest or highest version sometimes, this happens mostly when a release candidate was released before (like 1.6.0-rc3)."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"cd ~/scripts\nsudo bash ./update-fdm-monster.sh\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Please make sure to find the latest version tag on ",(0,t.jsx)(n.a,{href:"https://github.com/fdm-monster/fdm-monster/tags",children:"GitHub"}),".\nThat way you can use the ",(0,t.jsx)(n.code,{children:"--tag"})," based command, which is known to work well."]}),"\n",(0,t.jsx)(n.h3,{id:"monsterpi-version-0203-to-04",children:"MonsterPi Version 0.2/0.3 to 0.4+"}),"\n",(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsx)(n.p,{children:"There is no upgrade path to MonsterPi 0.4. Only by downloading the new image, users will be able to use FDM Monster 1.6 and up."})}),"\n",(0,t.jsxs)(n.p,{children:["It is advised to export a ",(0,t.jsx)(n.code,{children:".yaml"})," file to back up your printers, printer floor positions and floors.",(0,t.jsx)(n.br,{}),"\n","Here are the steps to take:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Go to the import/export dialog to get the ",(0,t.jsx)(n.code,{children:".yaml"})," file as a download."]}),"\n",(0,t.jsx)(n.li,{children:"Check the file for missing or incorrect properties. Correct the mistakes with a text editor and save."}),"\n",(0,t.jsxs)(n.li,{children:["Refer to ",(0,t.jsx)(n.a,{href:"/docs/configuration/yaml_import_export",children:"YAML Import and Export"})," for more details."]}),"\n",(0,t.jsx)(n.li,{children:"Ensure your .yaml is ready to be imported."}),"\n",(0,t.jsxs)(n.li,{children:["Flash a new SD card with the installation steps ",(0,t.jsx)(n.a,{href:"#installing-monsterpi",children:"above"})]}),"\n",(0,t.jsx)(n.li,{children:"Ensure your MonsterPi is working. Proceed through the setup and create an account."}),"\n",(0,t.jsxs)(n.li,{children:["Import the YAML file according to ",(0,t.jsx)(n.a,{href:"/docs/configuration/yaml_import_export#user-interface",children:"YAML Import and Export"})," for the import."]}),"\n",(0,t.jsx)(n.li,{children:"Your printers and floors will reappear."}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"monsterpi-version-020---030",children:"MonsterPi Version 0.2.0 -> 0.3.0+"}),"\n",(0,t.jsxs)(n.p,{children:["Run the following commands as the ",(0,t.jsx)(n.code,{children:"pi"})," user and execute an update with root elevation."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"cd ~/fdm-monster-daemon\n\n# Deploy the FDM Monster server update\nsudo bash ./update-fdm-monster.sh \n"})}),"\n",(0,t.jsx)(n.h3,{id:"updating-monsterpi-manually-01x---020",children:"Updating MonsterPi manually 0.1.x -> 0.2.0"}),"\n",(0,t.jsxs)(n.admonition,{type:"warning",children:[(0,t.jsx)(n.p,{children:"This strategy allows you to stick with 0.1.1. I cannot recommend it in the long run, because the image of 0.2.0\nhas changed quite a bit."}),(0,t.jsxs)(n.p,{children:["This upgrade will ",(0,t.jsx)(n.strong,{children:"not"})," install:"]}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"HAProxy"}),"\n",(0,t.jsx)(n.li,{children:"gencert (SSL certificate generator)"}),"\n",(0,t.jsx)(n.li,{children:"welcome script"}),"\n"]})]}),"\n",(0,t.jsxs)(n.p,{children:["We will be downloading a gist from GitHub. You can also download the latest version of the file yourself\nfrom ",(0,t.jsx)(n.a,{href:"https://github.com/fdm-monster/MonsterPi/blob/main/src/modules/monsterpi/filesystem/home/pi/fdm-monster-daemon/update-fdm-monster.sh",children:"this GitHub URL"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["Run the following commands as the ",(0,t.jsx)(n.code,{children:"pi"})," user and execute an update with root elevation."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"cd ~/fdm-monster-daemon\n\n# Download new script\nwget https://gist.githubusercontent.com/davidzwa/f0e094bd2223a0f1907009d576ad0b77/raw/4cf65be675dc09439873d504acf25abd32cda9c3/update-fdm-monster.sh -O ~/fdm-monster-daemon/update-fdm-monster.sh\n\n# Deploy the FDM Monster server update\nsudo bash ./update-fdm-monster.sh \n"})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},9312:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/raspberrypi-imager-8f7ba757321b54e1a230b0501fb9790a.png"},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>a});var t=s(6540);const i={},r=t.createContext(i);function o(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);