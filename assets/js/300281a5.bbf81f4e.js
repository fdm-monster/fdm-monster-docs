"use strict";(globalThis.webpackChunkfdm_monster_docs=globalThis.webpackChunkfdm_monster_docs||[]).push([[4531],{799(e,s,r){r.r(s),r.d(s,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>n,toc:()=>a});const n=JSON.parse('{"id":"troubleshooting/prometheus_metrics","title":"Prometheus Metrics","description":"Enabling Prometheus metrics for monitoring","source":"@site/docs/troubleshooting/prometheus_metrics.mdx","sourceDirName":"troubleshooting","slug":"/troubleshooting/prometheus_metrics","permalink":"/docs/troubleshooting/prometheus_metrics","draft":false,"unlisted":false,"editUrl":"https://github.com/fdm-monster/fdm-monster-docs/edit/main/docs/troubleshooting/prometheus_metrics.mdx","tags":[],"version":"current","lastUpdatedBy":"davidzwa","lastUpdatedAt":1768148010000,"frontMatter":{"title":"Prometheus Metrics","description":"Enabling Prometheus metrics for monitoring","slug":"/troubleshooting/prometheus_metrics"},"sidebar":"docs","previous":{"title":"Sentry","permalink":"/docs/troubleshooting/sentry"},"next":{"title":"FAQ","permalink":"/docs/faq"}}');var t=r(4848),i=r(8453);const o={title:"Prometheus Metrics",description:"Enabling Prometheus metrics for monitoring",slug:"/troubleshooting/prometheus_metrics"},c=void 0,l={},a=[{value:"Enabling Prometheus Metrics",id:"enabling-prometheus-metrics",level:2},{value:"Accessing Metrics",id:"accessing-metrics",level:2},{value:"What Metrics Are Available?",id:"what-metrics-are-available",level:2},{value:"Setting Up Prometheus",id:"setting-up-prometheus",level:2},{value:"Use Cases",id:"use-cases",level:2}];function d(e){const s={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.p,{children:"FDM Monster can expose Prometheus metrics for monitoring and troubleshooting performance issues. This is useful for tracking system health, diagnosing problems, and setting up monitoring dashboards."}),"\n",(0,t.jsx)(s.h2,{id:"enabling-prometheus-metrics",children:"Enabling Prometheus Metrics"}),"\n",(0,t.jsxs)(s.p,{children:["To enable Prometheus metrics, set the ",(0,t.jsx)(s.code,{children:"ENABLE_PROMETHEUS_METRICS"})," environment variable to ",(0,t.jsx)(s.code,{children:"true"}),"."]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Docker Compose:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-yaml",children:"services:\n  fdm-monster:\n    environment:\n      - ENABLE_PROMETHEUS_METRICS=true\n"})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Docker:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"docker run -d \\\n  -e ENABLE_PROMETHEUS_METRICS=true \\\n  fdmmonster/fdm-monster:2\n"})}),"\n",(0,t.jsxs)(s.p,{children:["For more configuration options, see the ",(0,t.jsx)(s.a,{href:"/docs/configuration/environment_variables#advanced-variables",children:"Environment Variables Guide"}),"."]}),"\n",(0,t.jsx)(s.h2,{id:"accessing-metrics",children:"Accessing Metrics"}),"\n",(0,t.jsx)(s.p,{children:"Once enabled, Prometheus metrics are available at:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"http://<your-server-ip>:<your-server-port>/metrics\n"})}),"\n",(0,t.jsxs)(s.p,{children:["For example: ",(0,t.jsx)(s.code,{children:"http://localhost:4000/metrics"})," or ",(0,t.jsx)(s.code,{children:"http://monsterpi.local:4000/metrics"})]}),"\n",(0,t.jsx)(s.h2,{id:"what-metrics-are-available",children:"What Metrics Are Available?"}),"\n",(0,t.jsx)(s.p,{children:"The metrics endpoint provides various system and application metrics including:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"HTTP request durations and counts"}),"\n",(0,t.jsx)(s.li,{children:"Active connections"}),"\n",(0,t.jsx)(s.li,{children:"Memory usage"}),"\n",(0,t.jsx)(s.li,{children:"Process CPU usage"}),"\n",(0,t.jsx)(s.li,{children:"Node.js event loop metrics"}),"\n",(0,t.jsx)(s.li,{children:"Custom application metrics"}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"setting-up-prometheus",children:"Setting Up Prometheus"}),"\n",(0,t.jsxs)(s.p,{children:["To collect these metrics with Prometheus, add FDM Monster as a scrape target in your ",(0,t.jsx)(s.code,{children:"prometheus.yml"}),":"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-yaml",children:"scrape_configs:\n  - job_name: 'fdm-monster'\n    static_configs:\n      - targets: ['<your-server-ip>:<your-server-port>']\n"})}),"\n",(0,t.jsxs)(s.p,{children:["Replace ",(0,t.jsx)(s.code,{children:"<your-server-ip>"})," and ",(0,t.jsx)(s.code,{children:"<your-server-port>"})," with your FDM Monster server's address."]}),"\n",(0,t.jsx)(s.h2,{id:"use-cases",children:"Use Cases"}),"\n",(0,t.jsx)(s.p,{children:"Prometheus metrics are useful for:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Performance monitoring"})," - Track response times and resource usage over time"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Troubleshooting"})," - Identify bottlenecks and performance issues"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Alerting"})," - Set up alerts for high memory usage, slow responses, etc."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Capacity planning"})," - Understand resource usage patterns to plan scaling"]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453(e,s,r){r.d(s,{R:()=>o,x:()=>c});var n=r(6540);const t={},i=n.createContext(t);function o(e){const s=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),n.createElement(i.Provider,{value:s},e.children)}}}]);